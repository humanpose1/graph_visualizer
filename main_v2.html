<html>
  <head>
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <style></style>
  </head>
  <body>
    <div class="force">
      <label title="Threshold of the graph">
	thresh
	<output id="threshSliderOutput">.5</output>
	<input type="range" min="0" max="1" value=".5" step="0.01" oninput="d3.select('#threshSliderOutput').text(value); thresh=value; updateAll(forceProperties, sizeVar, thresh);">
      </label>
    </div>
    <center>
      <svg height="600", width="1400"></svg>
    </center>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="scripts/graph.js"></script>
    <script>
     var sizeVar = { margin : {top: 100, right: 1, bottom: 3, left: 100},
		     width : width,
		     height : height};
     var thresh = 0.5;
     var forceProperties = {
       center: {
	 x: 0.5,
	 y: 0.5
       },
       charge: {
	 enabled: true,
	 strength: -30,
	 distanceMin: 1,
	 distanceMax: 2000
       },
       collide: {
	 enabled: true,
	 strength: .7,
	 iterations: 1,
	 radius: 5
       },
       forceX: {
	 enabled: true,
	 strength: .1,
	 x: .5
       },
       forceY: {
	 enabled: true,
	 strength: .1,
	 y: .5
       },
       link: {
	 enabled: true,
	 distance: 25,
	 iterations: 1
       }
     }
     var path = "graphs/Revers/graph.json";
     //var path = "scripts/miserable.json"
     d3.json(path, function(error, _graph) {
       if (error) throw error;
       data = _graph;
       currentData = filterGraph(_graph, thresh);
       console.log(currentData);
       draw(currentData, sizeVar, forceProperties);
     });

     var search = d3.select("body").append('center').append('form').attr('onsubmit', 'return false;');
     var box = search.append('input')
		     .attr('type', 'text')
		     .attr('id', 'searchTerm')
		     .attr('placeholder', 'Type to search...');

     var button = search.append('input').attr('type', 'button').attr('value', 'Search')
			.on('click', function () { searchNodes(); });
    </script>
  </body>
</html>
